---
import { getLangFromUrl, useTranslations } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<div class="text-center space-y-6">
  <h2
    class="font-sans text-[clamp(0.875rem,3vw,1.125rem)] font-semibold text-white/80 leading-relaxed max-w-md mx-auto"
  >
    {t("home.questionTitle")}
  </h2>
  <button
    id="openModalBtn"
    class="group relative px-8 py-3.5 text-[clamp(0.875rem,2vw,1rem)] font-bold text-white rounded-full transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] bg-gradient-to-r from-red-500 to-red-600 shadow-lg shadow-red-500/20 hover:shadow-xl hover:shadow-red-500/30"
  >
    <span class="relative z-10">{t("home.ctaButton")}</span>
    <div
      class="absolute inset-0 rounded-full bg-gradient-to-r from-red-600 to-red-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"
    >
    </div>
  </button>
</div>

<script>
  const openModalBtn = document.getElementById("openModalBtn");

  openModalBtn?.addEventListener("click", () => {
    const event = new CustomEvent("openUsernameModal");
    window.dispatchEvent(event);
  });
</script>
